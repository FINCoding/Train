<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>real time django chat with Django Channels</title>
    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
        <!--$(document).ready(function(){-->
            <!--var msgArea = $('#msgArea')-->
            <!--var elementMessage = $('#message')-->
            <!--var webSocket = new WebSocket('ws://' + window.location.host + '/chat/index');-->

            <!--webSocket.on('open', function open() {-->
              <!--ws.send('something');-->
            <!--});-->

            <!--webSocket.on('message', function incoming(data) {-->
              <!--console.log(data);-->
            <!--});-->

            <!--webSocket.onmessage = function(message) {-->
                <!--var data = JSON.parse(message.data)-->
                <!--msgArea.append('<p><strong>'+ data.sender + '</strong>: ' + data.message + '</p>')-->
                <!--setTimeout(function(){}, 1000);-->
            <!--}-->
            <!--$('#btnSubmit').click(function(e) {-->
                <!--webSocket.send(elementMessage.val())-->
                <!--setTimeout(function(){}, 1000);-->
            <!--})-->
        <!--})-->
        $(document).ready(function(){
            var msgArea = $('#msgArea')
            var elementMessage = $('#message')
            const ws = new WebSocket('ws://' + window.location.host + '/chat/index')

            ws.onmessage = function(message) {
              ws.send('something');
            };

    })

    </script>
</head>
<body>

<div id="msgArea"></div>

<div>
    <textarea name="message" id="message" cols="30" rows="10"></textarea>
</div>

<button id="btnSubmit">Submit</button>
</body>
</html>
